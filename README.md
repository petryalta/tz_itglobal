# Задание:

- с помощью vagrant развернуть 3 виртуальных хоста;

- используя ansible-provisioning произвести необходимую базовую настройку, развернуть на хостах docker, включить все три хоста в кластер docker-swarm;

- развернуть в контейнере службы prometheus, grafana, добавить node-exporter на каждый хост (в виде docker контейнера), cadvisor для мониторинга кластера docker-swarm;

- развернуть контейнер с nginx в качестве прокси для доступа к prometheus и grafana извне;

-  подключить хосты и swarm к мониторингу, добавить соответствующие дашбоды в grafana, добавить сервис в прокси Extra задача:

-  развернуть там же стек для работы с логами EFK (Elasticsearch + Fluentd + Kibana) и подключить к нему swarm, включить стек в мониторинг.

Результат выложить в git и отправить ссылку на репозиторий;

Выполнить все задачи - хорошо, но не обязательно. Результат их выполнения (время и качество) - показатель уровня владения материалом / способности в материале разобраться, даже если он был не знаком ранее.


# Решение:
 
Решение реализовано на базе Ubuntu xenial (16.04 LTS). К сожалению версия Bionical (18.04) в репозитории Vagranta оказалась битая (образ не распаковывается).

Для разворачивания Docker Swarm использую [этот проект](https://github.com/wikitops/ansible_swarm.git)

В проекте используется один менеджер и два воркера (для простоты реализации).